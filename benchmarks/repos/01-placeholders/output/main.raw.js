/* Generated by the Nim Compiler v2.2.6 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI134217747 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI1191182502 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1191182421 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1124073495 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI134217753 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555173 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI134217746 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555167 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555175 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33554450 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI33555174 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33555171 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555172 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI1191182345 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1191182359 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI973078942 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI33554466 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI33554445 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI1224736771 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1140850692 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554444 = {size: 0,kind: 44,base: null,node: null,finalizer: null};
var NTI754975095 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554449 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI33554435 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI754974723 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI1140850713 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1140850710 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI1140850707 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NNI1140850713 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI754974723, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554435, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI33554449, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI33554449, name: "Field3", sons: null}]};
NTI1140850713.node = NNI1140850713;
NTI1140850710.base = NTI1140850713;
var NNI1140850707 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI1140850710, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI33554435, name: "counter", sons: null}, 
{kind: 1, offset: "first", len: 0, typ: NTI33554435, name: "first", sons: null}, 
{kind: 1, offset: "last", len: 0, typ: NTI33554435, name: "last", sons: null}]};
NTI1140850707.node = NNI1140850707;
var NNI754975095 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI33554444, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554444, name: "Field1", sons: null}]};
NTI754975095.node = NNI754975095;
var NNI1140850692 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI33554449, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554449, name: "Field1", sons: null}]};
NTI1140850692.node = NNI1140850692;
var NNI1224736771 = {kind: 2, len: 16, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "width", len: 0, typ: NTI33554435, name: "width", sons: null}, 
{kind: 1, offset: "height", len: 0, typ: NTI33554435, name: "height", sons: null}, 
{kind: 1, offset: "text", len: 0, typ: NTI33554449, name: "text", sons: null}, 
{kind: 1, offset: "fontFamily", len: 0, typ: NTI33554449, name: "fontFamily", sons: null}, 
{kind: 1, offset: "fontWeight", len: 0, typ: NTI33554449, name: "fontWeight", sons: null}, 
{kind: 1, offset: "fontSize", len: 0, typ: NTI33554435, name: "fontSize", sons: null}, 
{kind: 1, offset: "lineHeight", len: 0, typ: NTI33554445, name: "lineHeight", sons: null}, 
{kind: 1, offset: "dy", len: 0, typ: NTI33554445, name: "dy", sons: null}, 
{kind: 1, offset: "bgColor", len: 0, typ: NTI33554449, name: "bgColor", sons: null}, 
{kind: 1, offset: "textColor", len: 0, typ: NTI33554449, name: "textColor", sons: null}, 
{kind: 1, offset: "darkBgColor", len: 0, typ: NTI33554449, name: "darkBgColor", sons: null}, 
{kind: 1, offset: "darkTextColor", len: 0, typ: NTI33554449, name: "darkTextColor", sons: null}, 
{kind: 1, offset: "dataUri", len: 0, typ: NTI33554466, name: "dataUri", sons: null}, 
{kind: 1, offset: "charset", len: 0, typ: NTI33554449, name: "charset", sons: null}, 
{kind: 1, offset: "textWrap", len: 0, typ: NTI33554466, name: "textWrap", sons: null}, 
{kind: 1, offset: "padding", len: 0, typ: NTI33554449, name: "padding", sons: null}]};
NTI1224736771.node = NNI1224736771;
NTI973078942.base = NTI33554449;
var NNI1191182359 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "val", len: 0, typ: NTI33554445, name: "val", sons: null}, 
{kind: 1, offset: "has", len: 0, typ: NTI33554466, name: "has", sons: null}]};
NTI1191182359.node = NNI1191182359;
var NNI1191182345 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "val", len: 0, typ: NTI33554445, name: "val", sons: null}, 
{kind: 1, offset: "has", len: 0, typ: NTI33554466, name: "has", sons: null}]};
NTI1191182345.node = NNI1191182345;
var NNI33555172 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555172.node = NNI33555172;
NTI33555174.base = NTI33555171;
NTI33555175.base = NTI33555171;
var NNI33555171 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI33555174, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI33554450, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI33554449, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI33554449, name: "trace", sons: null}, 
{kind: 1, offset: "up", len: 0, typ: NTI33555175, name: "up", sons: null}]};
NTI33555171.node = NNI33555171;
var NNI33555167 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555167.node = NNI33555167;
NTI33555171.base = NTI33555167;
NTI33555172.base = NTI33555171;
var NNI134217746 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217746.node = NNI134217746;
var NNI33555173 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555173.node = NNI33555173;
NTI33555173.base = NTI33555171;
NTI134217746.base = NTI33555173;
var NNI134217753 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217753.node = NNI134217753;
NTI134217753.base = NTI33555172;
var NNI1124073495 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI1124073495.node = NNI1124073495;
NTI1124073495.base = NTI33555172;
var NNI1191182421 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "val", len: 0, typ: NTI33554449, name: "val", sons: null}, 
{kind: 1, offset: "has", len: 0, typ: NTI33554466, name: "has", sons: null}]};
NTI1191182421.node = NNI1191182421;
var NNI1191182502 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "val", len: 0, typ: NTI33554449, name: "val", sons: null}, 
{kind: 1, offset: "has", len: 0, typ: NTI33554466, name: "has", sons: null}]};
NTI1191182502.node = NNI1191182502;
var NNI134217747 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI134217747.node = NNI134217747;
NTI134217747.base = NTI134217746;

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_p0, src_p1, ti_p2) {
  var result_33557352 = null;

    switch (ti_p2.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer__system_u2900(ti_p2))) {
      result_33557352 = src_p1;
      }
      else {
        result_33557352 = [src_p1[0], src_p1[1]];
      }
      
      break;
    case 19:
            if (dest_p0 === null || dest_p0 === undefined) {
        dest_p0 = {};
      }
      else {
        for (var key in dest_p0) { delete dest_p0[key]; }
      }
      for (var key in src_p1) { dest_p0[key] = src_p1[key]; }
      result_33557352 = dest_p0;
    
      break;
    case 18:
    case 17:
      if (!((ti_p2.base == null))) {
      result_33557352 = nimCopy(dest_p0, src_p1, ti_p2.base);
      }
      else {
      if ((ti_p2.kind == 17)) {
      result_33557352 = (dest_p0 === null || dest_p0 === undefined) ? {m_type: ti_p2} : dest_p0;
      }
      else {
        result_33557352 = (dest_p0 === null || dest_p0 === undefined) ? {} : dest_p0;
      }
      }
      nimCopyAux(result_33557352, src_p1, ti_p2.node);
      break;
    case 4:
    case 16:
            if(ArrayBuffer.isView(src_p1)) { 
        if(dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new src_p1.constructor(src_p1);
        } else {
          dest_p0.set(src_p1, 0);
        }
        result_33557352 = dest_p0;
      } else {
        if (src_p1 === null) {
          result_33557352 = null;
        }
        else {
          if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
            dest_p0 = new Array(src_p1.length);
          }
          result_33557352 = dest_p0;
          for (var i = 0; i < src_p1.length; ++i) {
            result_33557352[i] = nimCopy(result_33557352[i], src_p1[i], ti_p2.base);
          }
        }
      }
    
      break;
    case 24:
    case 27:
            if (src_p1 === null) {
        result_33557352 = null;
      }
      else {
        if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new Array(src_p1.length);
        }
        result_33557352 = dest_p0;
        for (var i = 0; i < src_p1.length; ++i) {
          result_33557352[i] = nimCopy(result_33557352[i], src_p1[i], ti_p2.base);
        }
      }
    
      break;
    case 28:
            if (src_p1 !== null) {
        result_33557352 = src_p1.slice(0);
      }
    
      break;
    default: 
      result_33557352 = src_p1;
      break;
    }

  return result_33557352;

}

function eqStrings(a_p0, b_p1) {
        if (a_p0 == b_p1) return true;
    if (a_p0 === null && b_p1.length == 0) return true;
    if (b_p1 === null && a_p0.length == 0) return true;
    if ((!a_p0) || (!b_p1)) return false;
    var alen = a_p0.length;
    if (alen != b_p1.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_p0[i] != b_p1[i]) return false;
    return true;
  

  
}

function makeNimstrLit(c_p0) {
      var result = [];
  for (var i = 0; i < c_p0.length; ++i) {
    result[i] = c_p0.charCodeAt(i);
  }
  return result;
  

  
}

function cstrToNimstr(c_p0) {
      var ln = c_p0.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_p0.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else {
      if (ch < 2048) {
        result[r] = (ch >> 6) | 192;
      }
      else {
        if (ch < 55296 || ch >= 57344) {
          result[r] = (ch >> 12) | 224;
        }
        else {
            ++i;
            ch = 65536 + (((ch & 1023) << 10) | (c_p0.charCodeAt(i) & 1023));
            result[r] = (ch >> 18) | 240;
            ++r;
            result[r] = ((ch >> 12) & 63) | 128;
        }
        ++r;
        result[r] = ((ch >> 6) & 63) | 128;
      }
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  return result;
  

  
}

function nimMin(a_p0, b_p1) {
    var Temporary1;

  var result_33557175 = 0;

  BeforeRet: {
    if ((a_p0 <= b_p1)) {
    Temporary1 = a_p0;
    }
    else {
    Temporary1 = b_p1;
    }
    
    result_33557175 = Temporary1;
    break BeforeRet;
  };

  return result_33557175;

}

function mnewString(len_p0) {
        var result = new Array(len_p0);
    for (var i = 0; i < len_p0; i++) {result[i] = 0;}
    return result;
  

  
}

function nimMax(a_p0, b_p1) {
    var Temporary1;

  var result_33557179 = 0;

  BeforeRet: {
    if ((b_p1 <= a_p0)) {
    Temporary1 = a_p0;
    }
    else {
    Temporary1 = b_p1;
    }
    
    result_33557179 = Temporary1;
    break BeforeRet;
  };

  return result_33557179;

}
var ConstSet2 = setConstr(32, 9, 11, 13, 10, 12);
var ConstSet3 = setConstr([97, 122], [65, 90], [48, 57], 95);
var ConstSet4 = setConstr([97, 122], [65, 90], [48, 57], 95);

function addChar(x_p0, c_p1) {
    x_p0.push(c_p1);

  
}
var ConstSet5 = setConstr([48, 57]);
var ConstSet6 = setConstr([48, 57]);
var ConstSet7 = setConstr(101, 69);
var ConstSet8 = setConstr([48, 57]);
var ConstSet9 = setConstr([48, 57]);

function isObj(obj_p0, subclass_p1) {
  var result_33557465 = false;

  BeforeRet: {
    var x_33557466 = obj_p0;
    if ((x_33557466 == subclass_p1)) {
    result_33557465 = true;
    break BeforeRet;
    }
    
    Label1: {
        Label2: while (true) {
        if (!!((x_33557466 == subclass_p1))) break Label2;
          if ((x_33557466 == null)) {
          result_33557465 = false;
          break BeforeRet;
          }
          
          x_33557466 = x_33557466.base;
        }
    };
    result_33557465 = true;
    break BeforeRet;
  };

  return result_33557465;

}

function toJSStr(s_p0) {
  var result_33556941 = null;

    var res_33556995 = newSeq__system_u2538((s_p0).length);
    var i_33556996 = 0;
    var j_33556997 = 0;
    Label1: {
        Label2: while (true) {
        if (!(i_33556996 < (s_p0).length)) break Label2;
          var c_33556998 = s_p0[i_33556996];
          if ((c_33556998 < 128)) {
          res_33556995[j_33556997] = String.fromCharCode(c_33556998);
          i_33556996 += 1;
          }
          else {
            var helper_33557024 = newSeq__system_u2538(0);
            Label3: {
                Label4: while (true) {
                if (!true) break Label4;
                  var code_33557025 = c_33556998.toString(16);
                  if ((((code_33557025) == null ? 0 : (code_33557025).length) == 1)) {
                  helper_33557024.push("%0");;
                  }
                  else {
                  helper_33557024.push("%");;
                  }
                  
                  helper_33557024.push(code_33557025);;
                  i_33556996 += 1;
                  if ((((s_p0).length <= i_33556996) || (s_p0[i_33556996] < 128))) {
                  break Label3;
                  }
                  
                  c_33556998 = s_p0[i_33556996];
                }
            };
++excHandler;
            try {
            res_33556995[j_33556997] = decodeURIComponent(helper_33557024.join(""));
--excHandler;
} catch (EXCEPTION) {
 var prevJSError = lastJSError;
 lastJSError = EXCEPTION;
 --excHandler;
            raiseDefect();
            res_33556995[j_33556997] = helper_33557024.join("");
            lastJSError = prevJSError;
            } finally {
            }
          }
          
          j_33556997 += 1;
        }
    };
    if (res_33556995.length < j_33556997) { for (var i = res_33556995.length ; i < j_33556997 ; ++i) res_33556995.push(null); }
               else { res_33556995.length = j_33556997; };
    result_33556941 = res_33556995.join("");

  return result_33556941;

}

function nimParseBiggestFloat(s_p0, number_p1, number_p1_Idx) {
    var Temporary1;

  var result_33557515 = 0;

  BeforeRet: {
    var sign_33557516 = false;
    var i_33557517 = 0;
    if ((s_p0[i_33557517] == 43)) {
    i_33557517 += 1;
    }
    else {
    if ((s_p0[i_33557517] == 45)) {
    sign_33557516 = true;
    i_33557517 += 1;
    }
    }
    if (((s_p0[i_33557517] == 78) || (s_p0[i_33557517] == 110))) {
    if (((s_p0[(i_33557517 + 1)] == 65) || (s_p0[(i_33557517 + 1)] == 97))) {
    if (((s_p0[(i_33557517 + 2)] == 78) || (s_p0[(i_33557517 + 2)] == 110))) {
    if (!((ConstSet3[s_p0[(i_33557517 + 3)]] != undefined))) {
    number_p1[number_p1_Idx] = NaN;
    result_33557515 = (i_33557517 + 3);
    break BeforeRet;
    }
    
    }
    
    }
    
    result_33557515 = 0;
    break BeforeRet;
    }
    
    if (((s_p0[i_33557517] == 73) || (s_p0[i_33557517] == 105))) {
    if (((s_p0[(i_33557517 + 1)] == 78) || (s_p0[(i_33557517 + 1)] == 110))) {
    if (((s_p0[(i_33557517 + 2)] == 70) || (s_p0[(i_33557517 + 2)] == 102))) {
    if (!((ConstSet4[s_p0[(i_33557517 + 3)]] != undefined))) {
    if (sign_33557516) {
    Temporary1 = -Infinity;
    }
    else {
    Temporary1 = Infinity;
    }
    
    number_p1[number_p1_Idx] = Temporary1;
    result_33557515 = (i_33557517 + 3);
    break BeforeRet;
    }
    
    }
    
    }
    
    result_33557515 = 0;
    break BeforeRet;
    }
    
    var buf_33557536 = [];
    if (sign_33557516) {
    addChar(buf_33557536, 45);;
    }
    
    Label2: {
        Label3: while (true) {
        if (!(ConstSet5[s_p0[i_33557517]] != undefined)) break Label3;
          addChar(buf_33557536, s_p0[i_33557517]);;
          i_33557517 += 1;
          Label4: {
              Label5: while (true) {
              if (!(s_p0[i_33557517] == 95)) break Label5;
                i_33557517 += 1;
              }
          };
        }
    };
    if ((s_p0[i_33557517] == 46)) {
    addChar(buf_33557536, s_p0[i_33557517]);;
    i_33557517 += 1;
    Label6: {
        Label7: while (true) {
        if (!(ConstSet6[s_p0[i_33557517]] != undefined)) break Label7;
          addChar(buf_33557536, s_p0[i_33557517]);;
          i_33557517 += 1;
          Label8: {
              Label9: while (true) {
              if (!(s_p0[i_33557517] == 95)) break Label9;
                i_33557517 += 1;
              }
          };
        }
    };
    }
    
    if (((buf_33557536).length == (sign_33557516 ? 1 : 0))) {
    result_33557515 = 0;
    break BeforeRet;
    }
    
    if ((ConstSet7[s_p0[i_33557517]] != undefined)) {
    addChar(buf_33557536, s_p0[i_33557517]);;
    i_33557517 += 1;
    if ((s_p0[i_33557517] == 43)) {
    i_33557517 += 1;
    }
    else {
    if ((s_p0[i_33557517] == 45)) {
    addChar(buf_33557536, s_p0[i_33557517]);;
    i_33557517 += 1;
    }
    }
    if (!((ConstSet8[s_p0[i_33557517]] != undefined))) {
    result_33557515 = 0;
    break BeforeRet;
    }
    
    Label10: {
        Label11: while (true) {
        if (!(ConstSet9[s_p0[i_33557517]] != undefined)) break Label11;
          addChar(buf_33557536, s_p0[i_33557517]);;
          i_33557517 += 1;
          Label12: {
              Label13: while (true) {
              if (!(s_p0[i_33557517] == 95)) break Label13;
                i_33557517 += 1;
              }
          };
        }
    };
    }
    
    number_p1[number_p1_Idx] = parseFloatNative__system_u3061(buf_33557536);
    result_33557515 = i_33557517;
  };

  return result_33557515;

}

function raiseException(e_p0, ename_p1) {
    e_p0.name = ename_p1;
    if ((excHandler == 0)) {
    unhandledException(e_p0);
    }
    
    throw e_p0;

  
}

function reraiseException() {
    if ((lastJSError == null)) {
    raiseException({message: [110,111,32,101,120,99,101,112,116,105,111,110,32,116,111,32,114,101,114,97,105,115,101], parent: null, m_type: NTI134217753, name: null, trace: [], up: null}, "ReraiseDefect");
    }
    else {
      if ((excHandler == 0)) {
      if (isNimException__system_u2037()) {
      unhandledException(lastJSError);
      }
      
      }
      
      throw lastJSError;
    }
    

  
}
var ConstSet10 = setConstr([65, 90]);
            var namedColors_1191182450 = [[98,108,97,99,107], [119,104,105,116,101], [114,101,100], [103,114,101,101,110], [98,108,117,101], [121,101,108,108,111,119], [99,121,97,110], [109,97,103,101,110,116,97], [103,114,97,121], [103,114,101,121], [111,114,97,110,103,101], [112,117,114,112,108,101], [112,105,110,107], [98,114,111,119,110], [116,114,97,110,115,112,97,114,101,110,116], [105,110,104,101,114,105,116], [99,117,114,114,101,110,116,99,111,108,111,114]];
              var xmlEscapeMap_1140855376 = {data: [{Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 478495127, Field1: 38, Field2: [38,97,109,112,59]}, {Field0: 878621656, Field1: 62, Field2: [38,103,116,59]}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 0, Field1: 0, Field2: []}, {Field0: (-431180709), Field1: 34, Field2: [38,113,117,111,116,59]}, {Field0: 0, Field1: 0, Field2: []}, {Field0: (-1839864179), Field1: 39, Field2: [38,97,112,111,115,59]}, {Field0: 0, Field1: 0, Field2: []}, {Field0: 1536979647, Field1: 60, Field2: [38,108,116,59]}], counter: 5};

function nimCharToStr(x_p0) {
  var result_33556468 = [];

    result_33556468 = nimCopy(null, mnewString(1), NTI33554449);
    result_33556468[0] = x_p0;

  return result_33556468;

}
var objectID_754974898 = [0];

function isFatPointer__system_u2900(ti_p0) {
  var result_33557334 = false;

  BeforeRet: {
    result_33557334 = !((ConstSet1[ti_p0.base.kind] != undefined));
    break BeforeRet;
  };

  return result_33557334;

}

function nimCopyAux(dest_p0, src_p1, n_p2) {
    switch (n_p2.kind) {
    case 0:
      break;
    case 1:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_p2.sons.length; i++) {
      nimCopyAux(dest_p0, src_p1, n_p2.sons[i]);
    }
    
      break;
    case 3:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
      for (var i = 0; i < n_p2.sons.length; ++i) {
        nimCopyAux(dest_p0, src_p1, n_p2.sons[i][1]);
      }
    
      break;
    }

  
}

function nextPowerOfTwo__pureZmath_u222(x_p0) {
  var result_805306592 = 0;

    result_805306592 = (x_p0 - 1);
    result_805306592 = (result_805306592 | (result_805306592 >> 16));
    result_805306592 = (result_805306592 | (result_805306592 >> 8));
    result_805306592 = (result_805306592 | (result_805306592 >> 4));
    result_805306592 = (result_805306592 | (result_805306592 >> 2));
    result_805306592 = (result_805306592 | (result_805306592 >> 1));
    result_805306592 += (1 + ((x_p0 <= 0) ? 1 : 0));

  return result_805306592;

}

function slotsNeeded__pureZcollectionsZtables_u42(count_p0) {
  var result_738197548 = 0;

    result_738197548 = nextPowerOfTwo__pureZmath_u222(((Math.trunc(count_p0 / 2) + count_p0) + 4));

  return result_738197548;

}

function initOrderedTable__utils_u33(initialSize_p0) {
  var result_1140850725 = ({data: [], counter: 0, first: 0, last: 0});

    result_1140850725 = nimCopy(result_1140850725, ({data: [], counter: 0, first: 0, last: 0}), NTI1140850707);
    var correctSizeHEX60gensym0_1140850734 = slotsNeeded__pureZcollectionsZtables_u42(initialSize_p0);
    result_1140850725.counter = 0;
    result_1140850725.data = new Array(correctSizeHEX60gensym0_1140850734); for (var i = 0 ; i < correctSizeHEX60gensym0_1140850734 ; ++i) { result_1140850725.data[i] = {Field0: 0, Field1: 0, Field2: [], Field3: []}; }    result_1140850725.first = (-1);
    result_1140850725.last = (-1);

  return result_1140850725;

}

function lenU__pureZhashes_u532(s_p0) {
  var result_754975254 = 0n;

    result_754975254 = BigInt.asUintN(64, BigInt((s_p0).length));

  return result_754975254;

}

function load8e__pureZhashes_u492(s_p0, o_p1) {
  var result_754975215 = 0n;

    result_754975215 = (((((((BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 7)]) << BigInt(56)) | BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 6)]) << BigInt(48))) | BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 5)]) << BigInt(40))) | BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 4)]) << BigInt(32))) | BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 3)]) << BigInt(24))) | BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 2)]) << BigInt(16))) | BigInt.asUintN(64, BigInt(s_p0[(o_p1 + 1)]) << BigInt(8))) | BigInt(s_p0[(o_p1 + 0)]));

  return result_754975215;

}

function load8__pureZhashes_u528(s_p0, o_p1) {
  var result_754975251 = 0n;

    result_754975251 = load8e__pureZhashes_u492(s_p0, o_p1);

  return result_754975251;

}

function rotR__pureZhashes_u545(v_p0, bits_p1) {
  var result_754975268 = 0n;

    result_754975268 = ((v_p0 >> BigInt(bits_p1)) | BigInt.asUintN(64, v_p0 << BigInt((64 - bits_p1))));

  return result_754975268;

}

function len16__pureZhashes_u557(u_p0, v_p1, mul_p2) {
  var result_754975281 = 0n;

    var a_754975282 = BigInt.asUintN(64, ((u_p0 ^ v_p1) * mul_p2));
    a_754975282 = (a_754975282 ^ (a_754975282 >> BigInt(47)));
    var b_754975287 = BigInt.asUintN(64, ((v_p1 ^ a_754975282) * mul_p2));
    b_754975287 = (b_754975287 ^ (b_754975287 >> BigInt(47)));
    result_754975281 = BigInt.asUintN(64, (b_754975287 * mul_p2));

  return result_754975281;

}

function load4e__pureZhashes_u476(s_p0, o_p1) {
  var result_754975199 = 0;

    result_754975199 = (((((((((s_p0[(o_p1 + 3)] >>> 0) << 24) >>> 0) | (((s_p0[(o_p1 + 2)] >>> 0) << 16) >>> 0)) >>> 0) | (((s_p0[(o_p1 + 1)] >>> 0) << 8) >>> 0)) >>> 0) | (s_p0[(o_p1 + 0)] >>> 0)) >>> 0);

  return result_754975199;

}

function load4__pureZhashes_u524(s_p0, o_p1) {
  var result_754975247 = 0;

    result_754975247 = load4e__pureZhashes_u476(s_p0, o_p1);

  return result_754975247;

}

function shiftMix__pureZhashes_u538(v_p0) {
  var result_754975260 = 0n;

    result_754975260 = (v_p0 ^ (v_p0 >> BigInt(47)));

  return result_754975260;

}

function len0_16__pureZhashes_u572(s_p0) {
    var Temporary1;

  var result_754975294 = 0n;

    if ((8 <= (s_p0).length)) {
    var mul_754975298 = BigInt.asUintN(64, (11160318154034397263n + BigInt.asUintN(64, (2n * lenU__pureZhashes_u532(s_p0)))));
    var a_754975299 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, 0) + 11160318154034397263n));
    var b_754975303 = load8__pureZhashes_u528(s_p0, ((s_p0).length - 8));
    var c_754975304 = BigInt.asUintN(64, (BigInt.asUintN(64, (rotR__pureZhashes_u545(b_754975303, 37) * mul_754975298)) + a_754975299));
    var d_754975305 = BigInt.asUintN(64, (BigInt.asUintN(64, (rotR__pureZhashes_u545(a_754975299, 25) + b_754975303)) * mul_754975298));
    Temporary1 = len16__pureZhashes_u557(c_754975304, d_754975305, mul_754975298);
    }
    else {
    if ((4 <= (s_p0).length)) {
    var mul_754975309 = BigInt.asUintN(64, (11160318154034397263n + BigInt.asUintN(64, (2n * lenU__pureZhashes_u532(s_p0)))));
    var a_754975310 = BigInt(load4__pureZhashes_u524(s_p0, 0));
    Temporary1 = len16__pureZhashes_u557(BigInt.asUintN(64, (lenU__pureZhashes_u532(s_p0) + BigInt.asUintN(64, a_754975310 << BigInt(3)))), BigInt(load4__pureZhashes_u524(s_p0, ((s_p0).length - 4))), mul_754975309);
    }
    else {
    if ((0 < (s_p0).length)) {
    var a_754975321 = (s_p0[0] >>> 0);
    var b_754975329 = (s_p0[((s_p0).length >> 1)] >>> 0);
    var c_754975333 = (s_p0[((s_p0).length - 1)] >>> 0);
    var y_754975338 = ((a_754975321 + ((b_754975329 << 8) >>> 0)) >>> 0);
    var z_754975343 = BigInt.asUintN(64, (lenU__pureZhashes_u532(s_p0) + BigInt(((c_754975333 << 2) >>> 0))));
    Temporary1 = BigInt.asUintN(64, (shiftMix__pureZhashes_u538((BigInt.asUintN(64, (BigInt(y_754975338) * 11160318154034397263n)) ^ BigInt.asUintN(64, (z_754975343 * 14097894508562428199n)))) * 11160318154034397263n));
    }
    else {
    Temporary1 = 11160318154034397263n;
    }
    }}
    result_754975294 = Temporary1;

  return result_754975294;

}

function len17_32__pureZhashes_u624(s_p0) {
  var result_754975346 = 0n;

    var mul_754975347 = BigInt.asUintN(64, (11160318154034397263n + BigInt.asUintN(64, (2n * lenU__pureZhashes_u532(s_p0)))));
    var a_754975348 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, 0) * 13011662864482103923n));
    var b_754975349 = load8__pureZhashes_u528(s_p0, 8);
    var c_754975353 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, ((s_p0).length - 8)) * mul_754975347));
    var d_754975357 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, ((s_p0).length - 16)) * 11160318154034397263n));
    result_754975346 = len16__pureZhashes_u557(BigInt.asUintN(64, (BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (a_754975348 + b_754975349)), 43) + rotR__pureZhashes_u545(c_754975353, 30))) + d_754975357)), BigInt.asUintN(64, (BigInt.asUintN(64, (a_754975348 + rotR__pureZhashes_u545(BigInt.asUintN(64, (b_754975349 + 11160318154034397263n)), 18))) + c_754975353)), mul_754975347);

  return result_754975346;

}

function len33_64__pureZhashes_u638(s_p0) {
  var result_754975360 = 0n;

    var mul_754975361 = BigInt.asUintN(64, (11160318154034397263n + BigInt.asUintN(64, (2n * lenU__pureZhashes_u532(s_p0)))));
    var a_754975362 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, 0) * 11160318154034397263n));
    var b_754975363 = load8__pureZhashes_u528(s_p0, 8);
    var c_754975367 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, ((s_p0).length - 8)) * mul_754975361));
    var d_754975371 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, ((s_p0).length - 16)) * 11160318154034397263n));
    var y_754975372 = BigInt.asUintN(64, (BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (a_754975362 + b_754975363)), 43) + rotR__pureZhashes_u545(c_754975367, 30))) + d_754975371));
    var z_754975373 = len16__pureZhashes_u557(y_754975372, BigInt.asUintN(64, (BigInt.asUintN(64, (a_754975362 + rotR__pureZhashes_u545(BigInt.asUintN(64, (b_754975363 + 11160318154034397263n)), 18))) + c_754975367)), mul_754975361);
    var e_754975374 = BigInt.asUintN(64, (load8__pureZhashes_u528(s_p0, 16) * mul_754975361));
    var f_754975375 = load8__pureZhashes_u528(s_p0, 24);
    var g_754975379 = BigInt.asUintN(64, (BigInt.asUintN(64, (y_754975372 + load8__pureZhashes_u528(s_p0, ((s_p0).length - 32)))) * mul_754975361));
    var h_754975383 = BigInt.asUintN(64, (BigInt.asUintN(64, (z_754975373 + load8__pureZhashes_u528(s_p0, ((s_p0).length - 24)))) * mul_754975361));
    result_754975360 = len16__pureZhashes_u557(BigInt.asUintN(64, (BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (e_754975374 + f_754975375)), 43) + rotR__pureZhashes_u545(g_754975379, 30))) + h_754975383)), BigInt.asUintN(64, (BigInt.asUintN(64, (e_754975374 + rotR__pureZhashes_u545(BigInt.asUintN(64, (f_754975375 + a_754975362)), 18))) + g_754975379)), mul_754975361);

  return result_754975360;

}

function weakLen32withSeeds2__pureZhashes_u669(w_p0, x_p1, y_p2, z_p3, a_p4, b_p5) {
  var result_754975396 = {Field0: 0n, Field1: 0n};

    var a_754975397 = BigInt.asUintN(64, (a_p4 + w_p0));
    var b_754975398 = rotR__pureZhashes_u545(BigInt.asUintN(64, (BigInt.asUintN(64, (b_p5 + a_754975397)) + z_p3)), 21);
    var c_754975399 = a_754975397;
    a_754975397 = BigInt.asUintN(64, a_754975397 + BigInt(x_p1));
    a_754975397 = BigInt.asUintN(64, a_754975397 + BigInt(y_p2));
    b_754975398 = BigInt.asUintN(64, b_754975398 + BigInt(rotR__pureZhashes_u545(a_754975397, 44)));
    result_754975396["Field0"] = BigInt.asUintN(64, (a_754975397 + z_p3));
    result_754975396["Field1"] = BigInt.asUintN(64, (b_754975398 + c_754975399));

  return result_754975396;

}

function weakLen32withSeeds__pureZhashes_u692(s_p0, o_p1, a_p2, b_p3) {
  var result_754975417 = {Field0: 0n, Field1: 0n};

    result_754975417 = nimCopy(result_754975417, weakLen32withSeeds2__pureZhashes_u669(load8__pureZhashes_u528(s_p0, o_p1), load8__pureZhashes_u528(s_p0, (o_p1 + 8)), load8__pureZhashes_u528(s_p0, (o_p1 + 16)), load8__pureZhashes_u528(s_p0, (o_p1 + 24)), a_p2, b_p3), NTI754975095);

  return result_754975417;

}

function hashFarm__pureZhashes_u715(s_p0) {
  var result_754975437 = 0n;

  BeforeRet: {
    if (((s_p0).length <= 16)) {
    result_754975437 = len0_16__pureZhashes_u572(s_p0);
    break BeforeRet;
    }
    
    if (((s_p0).length <= 32)) {
    result_754975437 = len17_32__pureZhashes_u624(s_p0);
    break BeforeRet;
    }
    
    if (((s_p0).length <= 64)) {
    result_754975437 = len33_64__pureZhashes_u638(s_p0);
    break BeforeRet;
    }
    
    var o_754975448 = 0;
    var x_754975449 = 81n;
    var y_754975450 = 2480279821605975764n;
    var z_754975451 = BigInt.asUintN(64, (shiftMix__pureZhashes_u538(BigInt.asUintN(64, (BigInt.asUintN(64, (y_754975450 * 11160318154034397263n)) + 113n))) * 11160318154034397263n));
    var v_754975457 = nimCopy(null, {Field0: 0n, Field1: 0n}, NTI754975095);
    var w_754975462 = nimCopy(null, {Field0: 0n, Field1: 0n}, NTI754975095);
    x_754975449 = BigInt.asUintN(64, (BigInt.asUintN(64, (x_754975449 * 11160318154034397263n)) + load8__pureZhashes_u528(s_p0, 0)));
    var eos_754975466 = (Math.trunc(((s_p0).length - 1) / 64) * 64);
    var last64_754975470 = ((eos_754975466 + (((s_p0).length - 1) & 63)) - 63);
    Label1: {
        Label2: while (true) {
        if (!true) break Label2;
          x_754975449 = BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (BigInt.asUintN(64, (BigInt.asUintN(64, (x_754975449 + y_754975450)) + v_754975457["Field0"])) + load8__pureZhashes_u528(s_p0, (o_754975448 + 8)))), 37) * 13011662864482103923n));
          y_754975450 = BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (BigInt.asUintN(64, (y_754975450 + v_754975457["Field1"])) + load8__pureZhashes_u528(s_p0, (o_754975448 + 48)))), 42) * 13011662864482103923n));
          x_754975449 = (x_754975449 ^ w_754975462["Field1"]);
          y_754975450 = BigInt.asUintN(64, y_754975450 + BigInt(BigInt.asUintN(64, (v_754975457["Field0"] + load8__pureZhashes_u528(s_p0, (o_754975448 + 40))))));
          z_754975451 = BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (z_754975451 + w_754975462["Field0"])), 33) * 13011662864482103923n));
          v_754975457 = nimCopy(v_754975457, weakLen32withSeeds__pureZhashes_u692(s_p0, (o_754975448 + 0), BigInt.asUintN(64, (v_754975457["Field1"] * 13011662864482103923n)), BigInt.asUintN(64, (x_754975449 + w_754975462["Field0"]))), NTI754975095);
          w_754975462 = nimCopy(w_754975462, weakLen32withSeeds__pureZhashes_u692(s_p0, (o_754975448 + 32), BigInt.asUintN(64, (z_754975451 + w_754975462["Field1"])), BigInt.asUintN(64, (y_754975450 + load8__pureZhashes_u528(s_p0, (o_754975448 + 16))))), NTI754975095);
          var HEX3Atmp_1140855657 = z_754975451;
          z_754975451 = x_754975449;
          x_754975449 = HEX3Atmp_1140855657;
          o_754975448 += 64;
          if ((o_754975448 == eos_754975466)) {
          break Label1;
          }
          
        }
    };
    var mul_754975488 = BigInt.asUintN(64, (13011662864482103923n + BigInt.asUintN(64, (z_754975451 & 255n) << BigInt(1))));
    o_754975448 = last64_754975470;
    w_754975462["Field0"] = BigInt.asUintN(64, w_754975462["Field0"] + BigInt((BigInt.asUintN(64, (lenU__pureZhashes_u532(s_p0) - 1n)) & 63n)));
    v_754975457["Field0"] = BigInt.asUintN(64, v_754975457["Field0"] + BigInt(w_754975462["Field0"]));
    w_754975462["Field0"] = BigInt.asUintN(64, w_754975462["Field0"] + BigInt(v_754975457["Field0"]));
    x_754975449 = BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (BigInt.asUintN(64, (BigInt.asUintN(64, (x_754975449 + y_754975450)) + v_754975457["Field0"])) + load8__pureZhashes_u528(s_p0, (o_754975448 + 8)))), 37) * mul_754975488));
    y_754975450 = BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (BigInt.asUintN(64, (y_754975450 + v_754975457["Field1"])) + load8__pureZhashes_u528(s_p0, (o_754975448 + 48)))), 42) * mul_754975488));
    x_754975449 = (x_754975449 ^ BigInt.asUintN(64, (w_754975462["Field1"] * 9n)));
    y_754975450 = BigInt.asUintN(64, y_754975450 + BigInt(BigInt.asUintN(64, (BigInt.asUintN(64, (v_754975457["Field0"] * 9n)) + load8__pureZhashes_u528(s_p0, (o_754975448 + 40))))));
    z_754975451 = BigInt.asUintN(64, (rotR__pureZhashes_u545(BigInt.asUintN(64, (z_754975451 + w_754975462["Field0"])), 33) * mul_754975488));
    v_754975457 = nimCopy(v_754975457, weakLen32withSeeds__pureZhashes_u692(s_p0, (o_754975448 + 0), BigInt.asUintN(64, (v_754975457["Field1"] * mul_754975488)), BigInt.asUintN(64, (x_754975449 + w_754975462["Field0"]))), NTI754975095);
    w_754975462 = nimCopy(w_754975462, weakLen32withSeeds__pureZhashes_u692(s_p0, (o_754975448 + 32), BigInt.asUintN(64, (z_754975451 + w_754975462["Field1"])), BigInt.asUintN(64, (y_754975450 + load8__pureZhashes_u528(s_p0, (o_754975448 + 16))))), NTI754975095);
    var HEX3Atmp_1140855658 = z_754975451;
    z_754975451 = x_754975449;
    x_754975449 = HEX3Atmp_1140855658;
    result_754975437 = len16__pureZhashes_u557(BigInt.asUintN(64, (BigInt.asUintN(64, (len16__pureZhashes_u557(v_754975457["Field0"], w_754975462["Field0"], mul_754975488) + BigInt.asUintN(64, (shiftMix__pureZhashes_u538(y_754975450) * 14097894508562428199n)))) + z_754975451)), BigInt.asUintN(64, (len16__pureZhashes_u557(v_754975457["Field1"], w_754975462["Field1"], mul_754975488) + x_754975449)), mul_754975488);
  };

  return result_754975437;

}

function hash__pureZhashes_u791(x_p0) {
  var result_754975513 = 0;

    result_754975513 = Number(BigInt.asIntN(32, hashFarm__pureZhashes_u715((x_p0.slice(0, (x_p0).length - 1 + 1)))));

  return result_754975513;

}

function isFilled__pureZcollectionsZtables_u31(hcode_p0) {
  var result_738197537 = false;

    result_738197537 = !((hcode_p0 == 0));

  return result_738197537;

}

function nextTry__pureZcollectionsZtables_u34(h_p0, maxHash_p1) {
  var result_738197541 = 0;

    result_738197541 = ((h_p0 + 1) & maxHash_p1);

  return result_738197541;

}

function rawGet__utils_u207(t_p0, key_p1, hc_p2, hc_p2_Idx) {
  var result_1140850901 = 0;

  BeforeRet: {
    hc_p2[hc_p2_Idx] = hash__pureZhashes_u791(key_p1);
    if ((hc_p2[hc_p2_Idx] == 0)) {
    hc_p2[hc_p2_Idx] = 314159265;
    }
    
    if (((t_p0.data).length == 0)) {
    result_1140850901 = (-1);
    break BeforeRet;
    }
    
    var h_1140850962 = (hc_p2[hc_p2_Idx] & (t_p0.data).length - 1);
    Label1: {
        Label2: while (true) {
        if (!isFilled__pureZcollectionsZtables_u31(t_p0.data[h_1140850962].Field0)) break Label2;
          if (((t_p0.data[h_1140850962].Field0 == hc_p2[hc_p2_Idx]) && eqStrings(t_p0.data[h_1140850962].Field2, key_p1))) {
          result_1140850901 = h_1140850962;
          break BeforeRet;
          }
          
          h_1140850962 = nextTry__pureZcollectionsZtables_u34(h_1140850962, (t_p0.data).length - 1);
        }
    };
    result_1140850901 = ((-1) - h_1140850962);
  };

  return result_1140850901;

}

function mustRehash__utils_u566(t_p0) {
  var result_1140851257 = false;

    result_1140851257 = (((t_p0.data).length < (t_p0.counter + Math.trunc(t_p0.counter / 2))) || (((t_p0.data).length - t_p0.counter) < 4));

  return result_1140851257;

}

function rawInsert__utils_u1166(t_p0, data_p1, data_p1_Idx, key_p2, val_p3, hc_p4, h_p5) {
    data_p1[data_p1_Idx][h_p5].Field2 = nimCopy(null, key_p2, NTI33554449);
    data_p1[data_p1_Idx][h_p5].Field3 = nimCopy(null, val_p3, NTI33554449);
    data_p1[data_p1_Idx][h_p5].Field0 = hc_p4;
    data_p1[data_p1_Idx][h_p5].Field1 = (-1);
    if ((t_p0.first < 0)) {
    t_p0.first = h_p5;
    }
    
    if ((0 <= t_p0.last)) {
    data_p1[data_p1_Idx][t_p0.last].Field1 = h_p5;
    }
    
    t_p0.last = h_p5;

  
}

function enlarge__utils_u748(t_p0) {
          var Temporary5;
          var Temporary6;

    var n_1140851442 = [];
    n_1140851442 = new Array(((t_p0.data).length * 2)); for (var i = 0 ; i < ((t_p0.data).length * 2) ; ++i) { n_1140851442[i] = {Field0: 0, Field1: 0, Field2: [], Field3: []}; }    var h_1140851501 = t_p0.first;
    t_p0.first = (-1);
    t_p0.last = (-1);
    var HEX3Atmp_1140855661 = nimCopy(null, t_p0.data, NTI1140850710);
    t_p0.data = n_1140851442;
    n_1140851442 = HEX3Atmp_1140855661;
    Label1: {
        Label2: while (true) {
        if (!(0 <= h_1140851501)) break Label2;
          var nxt_1140851559 = n_1140851442[h_1140851501].Field1;
          var eh_1140851613 = n_1140851442[h_1140851501].Field0;
          if (isFilled__pureZcollectionsZtables_u31(eh_1140851613)) {
          var j_1140851617 = (eh_1140851613 & (t_p0.data).length - 1);
          Label3: {
              Label4: while (true) {
              if (!isFilled__pureZcollectionsZtables_u31(t_p0.data[j_1140851617].Field0)) break Label4;
                j_1140851617 = nextTry__pureZcollectionsZtables_u34(j_1140851617, (t_p0.data).length - 1);
              }
          };
          Temporary5 = n_1140851442[h_1140851501].Field2;
          n_1140851442[h_1140851501].Field2 = [];
          Temporary6 = n_1140851442[h_1140851501].Field3;
          n_1140851442[h_1140851501].Field3 = [];
          rawInsert__utils_u1166(t_p0, t_p0, "data", Temporary5, Temporary6, n_1140851442[h_1140851501].Field0, j_1140851617);
          }
          
          h_1140851501 = nxt_1140851559;
        }
    };

  
}

function rawGetKnownHC__utils_u1448(t_p0, key_p1, hc_p2) {
  var result_1140852142 = 0;

  BeforeRet: {
    if (((t_p0.data).length == 0)) {
    result_1140852142 = (-1);
    break BeforeRet;
    }
    
    var h_1140852200 = (hc_p2 & (t_p0.data).length - 1);
    Label1: {
        Label2: while (true) {
        if (!isFilled__pureZcollectionsZtables_u31(t_p0.data[h_1140852200].Field0)) break Label2;
          if (((t_p0.data[h_1140852200].Field0 == hc_p2) && eqStrings(t_p0.data[h_1140852200].Field2, key_p1))) {
          result_1140852142 = h_1140852200;
          break BeforeRet;
          }
          
          h_1140852200 = nextTry__pureZcollectionsZtables_u34(h_1140852200, (t_p0.data).length - 1);
        }
    };
    result_1140852142 = ((-1) - h_1140852200);
  };

  return result_1140852142;

}

function HEX5BHEX5DHEX3D__utils_u127(t_p0, key_p1, val_p2) {
    if (((t_p0.data).length == 0)) {
    var correctSizeHEX60gensym3_1140850877 = slotsNeeded__pureZcollectionsZtables_u42(32);
    t_p0.counter = 0;
    t_p0.data = new Array(correctSizeHEX60gensym3_1140850877); for (var i = 0 ; i < correctSizeHEX60gensym3_1140850877 ; ++i) { t_p0.data[i] = {Field0: 0, Field1: 0, Field2: [], Field3: []}; }    t_p0.first = (-1);
    t_p0.last = (-1);
    }
    
    var hc_1140850886 = [0];
    var index_1140851140 = rawGet__utils_u207(t_p0, key_p1, hc_1140850886, 0);
    if ((0 <= index_1140851140)) {
    t_p0.data[index_1140851140].Field3 = nimCopy(null, val_p2, NTI33554449);
    }
    else {
      if (((t_p0.data).length == 0)) {
      var correctSizeHEX60gensym8_1140851249 = slotsNeeded__pureZcollectionsZtables_u42(32);
      t_p0.counter = 0;
      t_p0.data = new Array(correctSizeHEX60gensym8_1140851249); for (var i = 0 ; i < correctSizeHEX60gensym8_1140851249 ; ++i) { t_p0.data[i] = {Field0: 0, Field1: 0, Field2: [], Field3: []}; }      t_p0.first = (-1);
      t_p0.last = (-1);
      }
      
      if (mustRehash__utils_u566(t_p0)) {
      enlarge__utils_u748(t_p0);
      index_1140851140 = rawGetKnownHC__utils_u1448(t_p0, key_p1, hc_1140850886[0]);
      }
      
      index_1140851140 = ((-1) - index_1140851140);
      rawInsert__utils_u1166(t_p0, t_p0, "data", key_p1, val_p2, hc_1140850886[0], index_1140851140);
      t_p0.counter += 1;
    }
    

  
}

function toOrderedTable__utils_u5(pairs_p0) {
  var result_1140850705 = [({data: [], counter: 0, first: 0, last: 0})];

    result_1140850705[0] = nimCopy(result_1140850705[0], initOrderedTable__utils_u33((pairs_p0).length), NTI1140850707);
    Label1: {
      var key_1140850777 = [];
      var val_1140850778 = [];
      var i_1140855654 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_1140855654 < (pairs_p0).length)) break Label3;
            key_1140850777 = pairs_p0[i_1140855654]["Field0"];
            val_1140850778 = pairs_p0[i_1140855654]["Field1"];
            HEX5BHEX5DHEX3D__utils_u127(result_1140850705[0], key_1140850777, val_1140850778);
            i_1140855654 += 1;
          }
      };
    };

  return result_1140850705[0];

}
var addHeaders_1140852388 = toOrderedTable__utils_u5([nimCopy(null, {Field0: [88,45,88,83,83,45,80,114,111,116,101,99,116,105,111,110], Field1: [49,59,32,109,111,100,101,61,98,108,111,99,107]}, NTI1140850692), nimCopy(null, {Field0: [88,45,70,114,97,109,101,45,79,112,116,105,111,110,115], Field1: [68,69,78,89]}, NTI1140850692), nimCopy(null, {Field0: [88,45,67,111,110,116,101,110,116,45,84,121,112,101,45,79,112,116,105,111,110,115], Field1: [110,111,115,110,105,102,102]}, NTI1140850692), nimCopy(null, {Field0: [82,101,102,101,114,114,101,114,45,80,111,108,105,99,121], Field1: [110,111,45,114,101,102,101,114,114,101,114,45,119,104,101,110,45,100,111,119,110,103,114,97,100,101]}, NTI1140850692), nimCopy(null, {Field0: [83,116,114,105,99,116,45,84,114,97,110,115,112,111,114,116,45,83,101,99,117,114,105,116,121], Field1: [109,97,120,45,97,103,101,61,51,49,53,51,54,48,48,48,59,32,105,110,99,108,117,100,101,83,117,98,68,111,109,97,105,110,115,59,32,112,114,101,108,111,97,100]}, NTI1140850692), nimCopy(null, {Field0: [70,101,97,116,117,114,101,45,80,111,108,105,99,121], Field1: makeNimstrLit("geolocation \'none\'; midi \'none\'; sync-xhr \'none\'; microphone \'none\'; camera \'none\'; magnetometer \'none\'; gyroscope \'none\'; speaker \'none\'; fullscreen \'none\'; payment \'none\';")}, NTI1140850692), nimCopy(null, {Field0: [67,111,110,116,101,110,116,45,83,101,99,117,114,105,116,121,45,80,111,108,105,99,121], Field1: makeNimstrLit("default-src \'self\'; script-src \'self\' cdnjs.cloudflare.com static.cloudflareinsights.com; style-src \'self\' cdnjs.cloudflare.com \'unsafe-inline\' fonts.googleapis.com; img-src \'self\' data: images.placeholders.dev; child-src \'none\'; font-src \'self\' fonts.gstatic.com cdnjs.cloudflare.com; connect-src \'self\'; prefetch-src \'none\'; object-src \'none\'; form-action \'none\'; frame-ancestors \'none\'; upgrade-insecure-requests;")}, NTI1140850692)]);
var imageCacheHeader_1140852390 = [112,117,98,108,105,99,44,32,109,97,120,45,97,103,101,61,55,55,55,54,48,48,48];
var errorCacheHeader_1140852391 = [112,117,98,108,105,99,44,32,109,97,120,45,97,103,101,61,51,48,48];

function nsuStartsWith(s_p0, prefix_p1) {
  var result_973079917 = false;

  BeforeRet: {
    result_973079917 = false;
    var prefixLenHEX60gensym135_973079922 = (prefix_p1).length;
    var sLenHEX60gensym135_973079923 = (s_p0).length;
    var iHEX60gensym135_973079924 = 0;
    Label1: {
        Label2: while (true) {
        if (!true) break Label2;
          if ((prefixLenHEX60gensym135_973079922 <= iHEX60gensym135_973079924)) {
          result_973079917 = true;
          break BeforeRet;
          }
          
          if (((sLenHEX60gensym135_973079923 <= iHEX60gensym135_973079924) || !((s_p0[iHEX60gensym135_973079924] == prefix_p1[iHEX60gensym135_973079924])))) {
          result_973079917 = false;
          break BeforeRet;
          }
          
          iHEX60gensym135_973079924 += 1;
        }
    };
  };

  return result_973079917;

}

function addChars__stdZprivateZdigitsutils_u202(result_p0, result_p0_Idx, x_p1, start_p2, n_p3) {
    var Temporary1;

    var old_318767312 = (result_p0[result_p0_Idx]).length;
    if (result_p0[result_p0_Idx].length < (Temporary1 = (old_318767312 + n_p3), Temporary1)) { for (var i = result_p0[result_p0_Idx].length; i < Temporary1; ++i) result_p0[result_p0_Idx].push(0); }
         else {result_p0[result_p0_Idx].length = Temporary1; };
    Label2: {
      var iHEX60gensym4_318767326 = 0;
      var i_553648631 = 0;
      Label3: {
          Label4: while (true) {
          if (!(i_553648631 < n_p3)) break Label4;
            iHEX60gensym4_318767326 = i_553648631;
            result_p0[result_p0_Idx][(old_318767312 + iHEX60gensym4_318767326)] = x_p1.charCodeAt((start_p2 + iHEX60gensym4_318767326));
            i_553648631 += 1;
          }
      };
    };

  
}

function addChars__stdZprivateZdigitsutils_u198(result_p0, result_p0_Idx, x_p1) {
    addChars__stdZprivateZdigitsutils_u202(result_p0, result_p0_Idx, x_p1, 0, ((x_p1) == null ? 0 : (x_p1).length));

  
}

function addInt__stdZprivateZdigitsutils_u223(result_p0, result_p0_Idx, x_p1) {
    addChars__stdZprivateZdigitsutils_u198(result_p0, result_p0_Idx, ((x_p1) + ""));

  
}

function addInt__stdZprivateZdigitsutils_u241(result_p0, result_p0_Idx, x_p1) {
    addInt__stdZprivateZdigitsutils_u223(result_p0, result_p0_Idx, BigInt(x_p1));

  
}

function HEX24__systemZdollars_u14(xHEX60gensym0_p0) {
  var result_385875984 = [[]];

    result_385875984[0] = nimCopy(null, [], NTI33554449);
    addInt__stdZprivateZdigitsutils_u241(result_385875984, 0, xHEX60gensym0_p0);

  return result_385875984[0];

}

function defaultOptions__svg95placeholder_u23(width_p0, height_p1) {
  var result_1224736794 = ({width: 0, height: 0, text: [], fontFamily: [], fontWeight: [], fontSize: 0, lineHeight: 0.0, dy: 0.0, bgColor: [], textColor: [], darkBgColor: [], darkTextColor: [], dataUri: false, charset: [], textWrap: false, padding: []});

    var fs_1224736795 = Number(BigInt(Math.trunc(Math.floor((nimMin(width_p0, height_p1) * 0.2)))));
    result_1224736794 = nimCopy(result_1224736794, {width: width_p0, height: height_p1, text: (HEX24__systemZdollars_u14(width_p0)).concat([195,151],HEX24__systemZdollars_u14(height_p1)), fontFamily: [115,97,110,115,45,115,101,114,105,102], fontWeight: [98,111,108,100], fontSize: fs_1224736795, lineHeight: 1.2, dy: (fs_1224736795 * 0.35), bgColor: [35,100,100,100], textColor: [114,103,98,97,40,48,44,48,44,48,44,48,46,53,41], darkBgColor: [], darkTextColor: [], dataUri: true, charset: [85,84,70,45,56], textWrap: false, padding: [48,46,53,101,109]}, NTI1224736771);

  return result_1224736794;

}

function nsuFindChar(s_p0, sub_p1, start_p2, last_p3) {
    var Temporary1;

  var result_973080164 = 0;

  BeforeRet: {
    result_973080164 = (-1);
    if ((last_p3 < 0)) {
    Temporary1 = (s_p0).length - 1;
    }
    else {
    Temporary1 = last_p3;
    }
    
    var last_973080165 = Temporary1;
    Label2: {
      var iHEX60gensym165_973080179 = 0;
      var colontmp__553648640 = 0;
      colontmp__553648640 = start_p2;
      var res_553648641 = colontmp__553648640;
      Label3: {
          Label4: while (true) {
          if (!(res_553648641 <= last_973080165)) break Label4;
            iHEX60gensym165_973080179 = res_553648641;
            if ((s_p0[iHEX60gensym165_973080179] == sub_p1)) {
            result_973080164 = iHEX60gensym165_973080179;
            break BeforeRet;
            }
            
            res_553648641 += 1;
          }
      };
    };
  };

  return result_973080164;

}

function substr__system_u3749(s_p0, first_p1, last_p2) {
  var result_33558185 = [];

    var first_33558186 = nimMax(first_p1, 0);
    var last_33558187 = nimMin(last_p2, (s_p0).length - 1);
    var L_33558188 = nimMax(((last_33558187 - first_33558186) + 1), 0);
    result_33558185 = nimCopy(null, mnewString(L_33558188), NTI33554449);
    Label1: {
      var i_33558198 = 0;
      var i_553648647 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_553648647 < L_33558188)) break Label3;
            i_33558198 = i_553648647;
            result_33558185[i_33558198] = s_p0[(i_33558198 + first_33558186)];
            i_553648647 += 1;
          }
      };
    };

  return result_33558185;

}

function substr__system_u3767(s_p0, first_p1) {
  var result_33558202 = [];

    result_33558202 = nimCopy(null, substr__system_u3749(s_p0, first_p1, (s_p0).length - 1), NTI33554449);

  return result_33558202;

}

function fill__pureZstrutils_u1555(a_p0, value_p1) {
    var xHEX60gensym161_973080092 = 0;
    Label1: {
        Label2: while (true) {
        if (!(xHEX60gensym161_973080092 <= (a_p0).length - 1)) break Label2;
          a_p0[xHEX60gensym161_973080092] = value_p1;
          xHEX60gensym161_973080092 += 1;
        }
    };

  
}

function nsuInitSkipTable(a_p0, sub_p1) {
    var m_973080082 = (sub_p1).length;
    fill__pureZstrutils_u1555(a_p0, m_973080082);
    Label1: {
      var i_973080102 = 0;
      var colontmp__553648650 = 0;
      colontmp__553648650 = (m_973080082 - 1);
      var i_553648651 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_553648651 < colontmp__553648650)) break Label3;
            i_973080102 = i_553648651;
            a_p0[sub_p1[i_973080102]] = ((m_973080082 - 1) - i_973080102);
            i_553648651 += 1;
          }
      };
    };

  
}

function nsuInitNewSkipTable(sub_p0) {
  var result_973080136 = [new Int32Array(256)];

    nsuInitSkipTable(result_973080136[0], sub_p0);

  return result_973080136[0];

}

function nsuFindStrA(a_p0, s_p1, sub_p2, start_p3, last_p4) {
    var Temporary1;

  var result_973080143 = 0;

  BeforeRet: {
    if ((last_p4 < 0)) {
    Temporary1 = (s_p1).length - 1;
    }
    else {
    Temporary1 = last_p4;
    }
    
    var last_973080144 = Temporary1;
    var subLast_973080145 = ((sub_p2).length - 1);
    if ((subLast_973080145 == (-1))) {
    result_973080143 = start_p3;
    break BeforeRet;
    }
    
    result_973080143 = (-1);
    var skip_973080146 = start_p3;
    Label2: {
        Label3: while (true) {
        if (!(subLast_973080145 <= (last_973080144 - skip_973080146))) break Label3;
          var i_973080147 = subLast_973080145;
          Label4: {
              Label5: while (true) {
              if (!(s_p1[(skip_973080146 + i_973080147)] == sub_p2[i_973080147])) break Label5;
                if ((i_973080147 == 0)) {
                result_973080143 = skip_973080146;
                break BeforeRet;
                }
                
                i_973080147 -= 1;
              }
          };
          skip_973080146 += a_p0[s_p1[(skip_973080146 + subLast_973080145)]];
        }
    };
  };

  return result_973080143;

}

function nsuReplaceStr(s_p0, sub_p1, by_p2) {
  var result_973080351 = [];

    result_973080351 = nimCopy(null, [], NTI33554449);
    var subLen_973080352 = (sub_p1).length;
    if ((subLen_973080352 == 0)) {
    result_973080351 = nimCopy(null, s_p0, NTI33554449);
    }
    else {
    if ((subLen_973080352 == 1)) {
    var c_973080353 = sub_p1[0];
    var last_973080354 = (s_p0).length - 1;
    var i_973080355 = 0;
    Label1: {
        Label2: while (true) {
        if (!true) break Label2;
          var j_973080356 = nsuFindChar(s_p0, c_973080353, i_973080355, last_973080354);
          if ((j_973080356 < 0)) {
          break Label1;
          }
          
          result_973080351.push.apply(result_973080351, substr__system_u3749(s_p0, i_973080355, (j_973080356 - 1)));;
          result_973080351.push.apply(result_973080351, by_p2);;
          i_973080355 = (j_973080356 + subLen_973080352);
        }
    };
    result_973080351.push.apply(result_973080351, substr__system_u3767(s_p0, i_973080355));;
    }
    else {
      var a_973080357 = nsuInitNewSkipTable(sub_p1);
      var last_973080358 = (s_p0).length - 1;
      var i_973080359 = 0;
      Label3: {
          Label4: while (true) {
          if (!true) break Label4;
            var j_973080360 = nsuFindStrA(a_973080357, s_p0, sub_p1, i_973080359, last_973080358);
            if ((j_973080360 < 0)) {
            break Label3;
            }
            
            result_973080351.push.apply(result_973080351, substr__system_u3749(s_p0, i_973080359, (j_973080360 - 1)));;
            result_973080351.push.apply(result_973080351, by_p2);;
            i_973080359 = (j_973080360 + subLen_973080352);
          }
      };
      result_973080351.push.apply(result_973080351, substr__system_u3767(s_p0, i_973080359));;
    }
    }

  return result_973080351;

}

function substrEq__pureZstrutils_u256(s_p0, pos_p1, substr_p2) {
    var Temporary1;

  var result_973078788 = false;

    var length_973078789 = (substr_p2).length;
    if ((0 < length_973078789)) {
    var i_973078790 = 0;
    Label2: {
        Label3: while (true) {
        if (!(((i_973078790 < length_973078789) && ((pos_p1 + i_973078790) < (s_p0).length)) && (s_p0[(pos_p1 + i_973078790)] == substr_p2[i_973078790]))) break Label3;
          i_973078790 += 1;
        }
    };
    Temporary1 = (i_973078790 == length_973078789);
    }
    else {
    Temporary1 = false;
    }
    
    result_973078788 = Temporary1;

  return result_973078788;

}

function nsuSplitString(s_p0, sep_p1, maxsplit_p2) {
      var Temporary2;

  var result_973079105 = [];

    result_973079105 = nimCopy(null, [], NTI973078942);
    Label1: {
      var xHEX60gensym69_973079111 = [];
      if (((sep_p1).length == 0)) {
      Temporary2 = 1;
      }
      else {
      Temporary2 = (sep_p1).length;
      }
      
      var sepLen_553648659 = Temporary2;
      var lastHEX60gensym41_553648660 = 0;
      var splitsHEX60gensym41_553648661 = maxsplit_p2;
      Label3: {
          Label4: while (true) {
          if (!(lastHEX60gensym41_553648660 <= (s_p0).length)) break Label4;
            var firstHEX60gensym41_553648663 = lastHEX60gensym41_553648660;
            Label5: {
                Label6: while (true) {
                if (!((lastHEX60gensym41_553648660 < (s_p0).length) && !(substrEq__pureZstrutils_u256(s_p0, lastHEX60gensym41_553648660, sep_p1)))) break Label6;
                  lastHEX60gensym41_553648660 += 1;
                }
            };
            if ((splitsHEX60gensym41_553648661 == 0)) {
            lastHEX60gensym41_553648660 = (s_p0).length;
            }
            
            xHEX60gensym69_973079111 = substr__system_u3749(s_p0, firstHEX60gensym41_553648663, (lastHEX60gensym41_553648660 - 1));
            var Temporary7 = nimCopy(null, xHEX60gensym69_973079111, NTI33554449);
            result_973079105.push(Temporary7);;
            if ((splitsHEX60gensym41_553648661 == 0)) {
            break Label3;
            }
            
            splitsHEX60gensym41_553648661 -= 1;
            lastHEX60gensym41_553648660 += sepLen_553648659;
          }
      };
    };

  return result_973079105;

}

function nsuStrip(s_p0, leading_p1, trailing_p2, chars_p3) {
  var result_973081097 = [];

    var first_973081098 = 0;
    var last_973081099 = ((s_p0).length - 1);
    if (leading_p1) {
    Label1: {
        Label2: while (true) {
        if (!((first_973081098 <= last_973081099) && (chars_p3[s_p0[first_973081098]] != undefined))) break Label2;
          first_973081098 += 1;
        }
    };
    }
    
    if (trailing_p2) {
    Label3: {
        Label4: while (true) {
        if (!((first_973081098 <= last_973081099) && (chars_p3[s_p0[last_973081099]] != undefined))) break Label4;
          last_973081099 -= 1;
        }
    };
    }
    
    result_973081097 = nimCopy(null, substr__system_u3749(s_p0, first_973081098, last_973081099), NTI33554449);

  return result_973081097;

}

function none__sanitizers_u14() {
  var result_1191182357 = ({val: 0.0, has: false});

    result_1191182357 = nimCopy(result_1191182357, {val: 0.0, has: false}, NTI1191182359);

  return result_1191182357;

}

function newSeq__system_u2538(len_p0) {
  var result_33556974 = [];

    result_33556974 = new Array(len_p0); for (var i = 0 ; i < len_p0 ; ++i) { result_33556974[i] = null; }
  return result_33556974;

}

function isNimException__system_u2037() {
    return lastJSError && lastJSError.m_type;

  
}

function getCurrentException() {
  var result_33556472 = null;

    if (isNimException__system_u2037()) {
    result_33556472 = lastJSError;
    }
    

  return result_33556472;

}

function add__system_u1954(x_p0, x_p0_Idx, y_p1) {
          if (x_p0[x_p0_Idx] === null) { x_p0[x_p0_Idx] = []; }
      var off = x_p0[x_p0_Idx].length;
      x_p0[x_p0_Idx].length += y_p1.length;
      for (var i = 0; i < y_p1.length; ++i) {
        x_p0[x_p0_Idx][off+i] = y_p1.charCodeAt(i);
      }
    

  
}

function unhandledException(e_p0) {
    var buf_33556680 = [[]];
    if (!(((e_p0.message).length == 0))) {
    buf_33556680[0].push.apply(buf_33556680[0], [69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110,58,32]);;
    buf_33556680[0].push.apply(buf_33556680[0], e_p0.message);;
    }
    else {
    buf_33556680[0].push.apply(buf_33556680[0], [69,114,114,111,114,58,32,117,110,104,97,110,100,108,101,100,32,101,120,99,101,112,116,105,111,110]);;
    }
    
    buf_33556680[0].push.apply(buf_33556680[0], [32,91]);;
    add__system_u1954(buf_33556680, 0, e_p0.name);
    buf_33556680[0].push.apply(buf_33556680[0], [93,10]);;
    var cbuf_33556681 = toJSStr(buf_33556680[0]);
      if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_33556681);
  }
  else {
    throw cbuf_33556681;
  }
  

  
}

function raiseDefect() {
    if (isNimException__system_u2037()) {
    var e_33556686 = getCurrentException();
    if (isObj(e_33556686.m_type, NTI33555172)) {
    if ((excHandler == 0)) {
    unhandledException(e_33556686);
    }
    
    throw e_33556686;
    }
    
    }
    

  
}

function parseFloatNative__system_u3061(a_p0) {
  var result_33557495 = 0.0;

    var str_33557496 = [];
    Label1: {
      var x_33557510 = 0;
      var i_553648676 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_553648676 < (a_p0).length)) break Label3;
            x_33557510 = a_p0[i_553648676];
            addChar(str_33557496, x_33557510);;
            i_553648676 += 1;
          }
      };
    };
    var cstr_33557511 = toJSStr(str_33557496);
      result_33557495 = Number(cstr_33557511);
  

  return result_33557495;

}

function npuParseFloat(s_p0, number_p1, number_p1_Idx) {
  var result_989856284 = 0;

    var bf_989856285 = [0.0];
    result_989856284 = nimParseBiggestFloat(s_p0, bf_989856285, 0);
    if (!((result_989856284 == 0))) {
    number_p1[number_p1_Idx] = bf_989856285[0];
    }
    

  return result_989856284;

}

function parseFloat__pureZparseutils_u940(s_p0, number_p1, number_p1_Idx, start_p2) {
  var result_989856688 = 0;

    result_989856688 = npuParseFloat((s_p0.slice(start_p2, (s_p0).length - 1 + 1)), number_p1, number_p1_Idx);

  return result_989856688;

}

function nsuParseFloat(s_p0) {
  var result_973079401 = [0.0];

    result_973079401[0] = 0.0;
    var L_973079402 = parseFloat__pureZparseutils_u940(s_p0, result_973079401, 0, 0);
    if ((!((L_973079402 == (s_p0).length)) || (L_973079402 == 0))) {
    raiseException({message: ([105,110,118,97,108,105,100,32,102,108,111,97,116,58,32]).concat(s_p0), parent: null, m_type: NTI134217746, name: null, trace: [], up: null}, "ValueError");
    }
    

  return result_973079401[0];

}

function some__sanitizers_u42(val_p0) {
  var result_1191182381 = ({val: 0.0, has: false});

    result_1191182381 = nimCopy(result_1191182381, {has: true, val: val_p0}, NTI1191182345);

  return result_1191182381;

}

function sanitizeNumber__sanitizers_u5(input_p0) {
  var result_1191182348 = ({val: 0.0, has: false});

  BeforeRet: {
    var s_1191182349 = nsuStrip(input_p0, true, true, ConstSet2);
    if (((s_1191182349).length == 0)) {
    result_1191182348 = nimCopy(result_1191182348, none__sanitizers_u14(), NTI1191182345);
    break BeforeRet;
    }
    
++excHandler;
    try {
    var n_1191182377 = nsuParseFloat(s_1191182349);
    result_1191182348 = nimCopy(result_1191182348, some__sanitizers_u42(n_1191182377), NTI1191182345);
    break BeforeRet;
--excHandler;
} catch (EXCEPTION) {
 var prevJSError = lastJSError;
 lastJSError = EXCEPTION;
 --excHandler;
    if (lastJSError && (isObj(lastJSError.m_type, NTI134217746))) {
    result_1191182348 = nimCopy(result_1191182348, none__sanitizers_u14(), NTI1191182345);
    break BeforeRet;
    }
    else {
    	reraiseException();
    }
    lastJSError = prevJSError;
    } finally {
    }
  };

  return result_1191182348;

}

function isSome__main_u113(self_p0) {
  var result_553648244 = false;

    result_553648244 = self_p0.has;

  return result_553648244;

}

function isNone__main_u145(self_p0) {
  var result_553648276 = false;

    result_553648276 = !(self_p0.has);

  return result_553648276;

}

function get__main_u137(self_p0) {
  var result_553648268 = 0.0;

    if (isNone__main_u145(self_p0)) {
    raiseException({message: [67,97,110,39,116,32,111,98,116,97,105,110,32,97,32,118,97,108,117,101,32,102,114,111,109,32,97,32,96,110,111,110,101,96], parent: null, m_type: NTI1124073495, name: null, trace: [], up: null}, "UnpackDefect");
    }
    
    result_553648268 = self_p0["val"];

  return result_553648268;

}

function stripHtmlTags__sanitizers_u71(s_p0) {
  var result_1191182409 = null;

    result_1191182409 = s_p0.replace(new RegExp("<[^>]*>", "g"), "");

  return result_1191182409;

}

function sanitizeString__sanitizers_u74(input_p0) {
  var result_1191182412 = [];

  BeforeRet: {
    var value_1191182413 = cstrToNimstr(stripHtmlTags__sanitizers_u71(toJSStr(input_p0)));
    value_1191182413 = nimCopy(null, cstrToNimstr(toJSStr(value_1191182413).replace(new RegExp("[\"<>]+", "g"), "")), NTI33554449);
    result_1191182412 = nimCopy(null, value_1191182413, NTI33554449);
    break BeforeRet;
  };

  return result_1191182412;

}

function sanitizeStringForCss__sanitizers_u223(input_p0) {
  var result_1191182561 = [];

  BeforeRet: {
    var value_1191182562 = sanitizeString__sanitizers_u74(input_p0);
    value_1191182562 = nimCopy(null, cstrToNimstr(toJSStr(value_1191182562).replace(new RegExp("[:;]+", "g"), "")), NTI33554449);
    result_1191182561 = nimCopy(null, value_1191182562, NTI33554449);
    break BeforeRet;
  };

  return result_1191182561;

}

function contains__jsZjsre_u51(pattern_p0, self_p1) {
  var result_1207959606 = false;

    result_1207959606 = self_p1.test(pattern_p0);

  return result_1207959606;

}

function some__sanitizers_u87(val_p0) {
  var result_1191182426 = ({val: [], has: false});

    result_1191182426 = nimCopy(result_1191182426, {has: true, val: nimCopy(null, val_p0, NTI33554449)}, NTI1191182421);

  return result_1191182426;

}

function nsuToLowerAsciiChar(c_p0) {
  var result_973078615 = 0;

    if ((ConstSet10[c_p0] != undefined)) {
    result_973078615 = (c_p0 ^ 32);
    }
    else {
      result_973078615 = c_p0;
    }
    

  return result_973078615;

}

function nsuToLowerAsciiStr(s_p0) {
  var result_973078625 = [];

    result_973078625 = nimCopy(null, mnewString((s_p0).length), NTI33554449);
    Label1: {
      var iHEX60gensym7_973078631 = 0;
      var colontmp__553648686 = 0;
      colontmp__553648686 = ((s_p0).length - 1);
      var res_553648687 = 0;
      Label2: {
          Label3: while (true) {
          if (!(res_553648687 <= colontmp__553648686)) break Label3;
            iHEX60gensym7_973078631 = res_553648687;
            result_973078625[iHEX60gensym7_973078631] = nsuToLowerAsciiChar(s_p0[iHEX60gensym7_973078631]);
            res_553648687 += 1;
          }
      };
    };

  return result_973078625;

}

function none__sanitizers_u197() {
  var result_1191182540 = ({val: [], has: false});

    result_1191182540 = nimCopy(result_1191182540, {val: [], has: false}, NTI1191182502);

  return result_1191182540;

}

function sanitizeColor__sanitizers_u78(input_p0) {
  var result_1191182421 = ({val: [], has: false});

  BeforeRet: {
    var value_1191182422 = sanitizeString__sanitizers_u74(input_p0);
    if (contains__jsZjsre_u51(toJSStr(value_1191182422), new RegExp("^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$"))) {
    result_1191182421 = nimCopy(result_1191182421, some__sanitizers_u87(value_1191182422), NTI1191182421);
    break BeforeRet;
    }
    
    if (contains__jsZjsre_u51(toJSStr(value_1191182422), new RegExp("^(rgb|rgba|hsl|hsla)\\("))) {
    result_1191182421 = nimCopy(result_1191182421, some__sanitizers_u87(value_1191182422), NTI1191182421);
    break BeforeRet;
    }
    
    var lower_1191182449 = nsuToLowerAsciiStr(value_1191182422);
    Label1: {
      var c_1191182529 = [];
      var i_553648683 = 0;
      Label2: {
          Label3: while (true) {
          if (!true) break Label3;
            c_1191182529 = namedColors_1191182450[i_553648683];
            if (eqStrings(lower_1191182449, c_1191182529)) {
            result_1191182421 = nimCopy(result_1191182421, some__sanitizers_u87(value_1191182422), NTI1191182421);
            break BeforeRet;
            }
            
            if ((16 <= i_553648683)) {
            break Label2;
            }
            
            i_553648683 += 1;
          }
      };
    };
    result_1191182421 = nimCopy(result_1191182421, none__sanitizers_u197(), NTI1191182421);
    break BeforeRet;
  };

  return result_1191182421;

}

function isSome__main_u312(self_p0) {
  var result_553648443 = false;

    result_553648443 = self_p0.has;

  return result_553648443;

}

function isNone__main_u337(self_p0) {
  var result_553648468 = false;

    result_553648468 = !(self_p0.has);

  return result_553648468;

}

function get__main_u329(self_p0) {
  var result_553648460 = [];

    if (isNone__main_u337(self_p0)) {
    raiseException({message: [67,97,110,39,116,32,111,98,116,97,105,110,32,97,32,118,97,108,117,101,32,102,114,111,109,32,97,32,96,110,111,110,101,96], parent: null, m_type: NTI1124073495, name: null, trace: [], up: null}, "UnpackDefect");
    }
    
    result_553648460 = self_p0["val"];

  return result_553648460;

}

function hasJsBigInt__stdZprivateZjsutils_u43() {
  var result_771751980 = false;

    result_771751980 = typeof BigInt != 'undefined';

  return result_771751980;

}

function hiXorLoJs__pureZhashes_u86(a_p0, b_p1) {
  var result_754974809 = 0n;

    var prod_754974810 = (a_p0 * b_p1);
    var mask_754974811 = BigInt("0xffffffffffffffff");
    result_754974809 = ((prod_754974810 >> BigInt("64")) ^ (prod_754974810 & mask_754974811));

  return result_754974809;

}

function hashWangYi1__pureZhashes_u194(x_p0) {
  var result_754974917 = 0;

    if (hasJsBigInt__stdZprivateZjsutils_u43()) {
    var P0HEX60gensym4_754974931 = BigInt("0xa0761d6478bd642f");
    var P1HEX60gensym4_754974932 = BigInt("0xe7037ed1a0b428db");
    var P58HEX60gensym4_754974933 = BigInt("0xeb44accab455d16d");
    var resHEX60gensym4_754974934 = hiXorLoJs__pureZhashes_u86(hiXorLoJs__pureZhashes_u86(P0HEX60gensym4_754974931, (BigInt(x_p0) ^ P1HEX60gensym4_754974932)), P58HEX60gensym4_754974933);
    result_754974917 = Number((() => { const i = resHEX60gensym4_754974934, b = 32; return BigInt.asIntN(b, i) })());
    }
    else {
      result_754974917 = (Number(BigInt.asIntN(32, x_p0)) & Number(BigInt.asIntN(32, 4294967295n)));
    }
    

  return result_754974917;

}

function hash__utils_u3416(x_p0) {
  var result_1140854107 = 0;

    result_1140854107 = hashWangYi1__pureZhashes_u194(BigInt.asUintN(64, BigInt(x_p0)));

  return result_1140854107;

}

function rawGet__utils_u3409(t_p0, key_p1, hc_p2, hc_p2_Idx) {
  var result_1140854103 = 0;

  BeforeRet: {
    hc_p2[hc_p2_Idx] = hash__utils_u3416(key_p1);
    if ((hc_p2[hc_p2_Idx] == 0)) {
    hc_p2[hc_p2_Idx] = 314159265;
    }
    
    if (((t_p0.data).length == 0)) {
    result_1140854103 = (-1);
    break BeforeRet;
    }
    
    var h_1140854174 = (hc_p2[hc_p2_Idx] & (t_p0.data).length - 1);
    Label1: {
        Label2: while (true) {
        if (!isFilled__pureZcollectionsZtables_u31(t_p0.data[h_1140854174].Field0)) break Label2;
          if (((t_p0.data[h_1140854174].Field0 == hc_p2[hc_p2_Idx]) && (t_p0.data[h_1140854174].Field1 == key_p1))) {
          result_1140854103 = h_1140854174;
          break BeforeRet;
          }
          
          h_1140854174 = nextTry__pureZcollectionsZtables_u34(h_1140854174, (t_p0.data).length - 1);
        }
    };
    result_1140854103 = ((-1) - h_1140854174);
  };

  return result_1140854103;

}

function hasKey__utils_u4763(t_p0, key_p1) {
  var result_1140855456 = false;

    var hc_1140855457 = [0];
    result_1140855456 = (0 <= rawGet__utils_u3409(t_p0, key_p1, hc_1140855457, 0));

  return result_1140855456;

}

function contains__utils_u4742(t_p0, key_p1) {
  var result_1140855435 = false;

  BeforeRet: {
    result_1140855435 = hasKey__utils_u4763(t_p0, key_p1);
    break BeforeRet;
  };

  return result_1140855435;

}

function raiseKeyError__utils_u4896(key_p0) {
    raiseException({message: ([107,101,121,32,110,111,116,32,102,111,117,110,100,58,32]).concat(nimCharToStr(key_p0)), parent: null, m_type: NTI134217747, name: null, trace: [], up: null}, "KeyError");

  
}

function HEX5BHEX5D__utils_u4829(t_p0, key_p1) {
  var result_1140855522 = [];

    var hcHEX60gensym20_1140855523 = [0];
    var indexHEX60gensym20_1140855530 = rawGet__utils_u3409(t_p0, key_p1, hcHEX60gensym20_1140855523, 0);
    if ((0 <= indexHEX60gensym20_1140855530)) {
    result_1140855522 = t_p0.data[indexHEX60gensym20_1140855530]["Field2"];
    }
    else {
    raiseKeyError__utils_u4896(key_p1);
    }
    

  return result_1140855522;

}

function escapeXml__utils_u4689(s_p0) {
  var result_1140855379 = [];

    result_1140855379 = nimCopy(null, [], NTI33554449);
    Label1: {
      var ch_1140855380 = 0;
      var i_553648691 = 0;
      var L_553648692 = (s_p0).length;
      Label2: {
          Label3: while (true) {
          if (!(i_553648691 < L_553648692)) break Label3;
            ch_1140855380 = s_p0[i_553648691];
            if (contains__utils_u4742(xmlEscapeMap_1140855376, ch_1140855380)) {
            result_1140855379.push.apply(result_1140855379, HEX5BHEX5D__utils_u4829(xmlEscapeMap_1140855376, ch_1140855380));;
            }
            else {
            addChar(result_1140855379, ch_1140855380);;
            }
            
            i_553648691 += 1;
          }
      };
    };

  return result_1140855379;

}

function nimFloatToString__stdZformatfloat_u130(a_p0) {
  var result_402653316 = null;

          function nimOnlyDigitsOrMinus(n) {
        return n.toString().match(/^-?\d+$/);
      }
      if (Number.isSafeInteger(a_p0))
        result_402653316 = a_p0 === 0 && 1 / a_p0 < 0 ? "-0.0" : a_p0+".0";
      else if (isNaN(a_p0)) // Number.isNaN is since ES6
        result_402653316 = "nan";  // or it'll be "NaN"
      else if (!isFinite(a_p0)) // Number.isFinite newer but unnecessary here
        result_402653316 = a_p0 > 0 ? "inf" : "-inf";  // or it'll be [-]Infinity
      else {
        result_402653316 = a_p0+"";
        if(nimOnlyDigitsOrMinus(result_402653316)){
          result_402653316 = a_p0+".0";
        }
      }
    

  return result_402653316;

}

function addFloat__system_u3200(result_p0, result_p0_Idx, x_p1) {
    add__system_u1954(result_p0, result_p0_Idx, nimFloatToString__stdZformatfloat_u130(x_p1));

  
}

function HEX24__system_u3196(x_p0) {
  var result_33557631 = [[]];

    result_33557631[0] = nimCopy(null, [], NTI33554449);
    addFloat__system_u3200(result_33557631, 0, x_p0);

  return result_33557631[0];

}

function toHexImpl__pureZstrutils_u771(x_p0, len_p1, handleNegative_p2) {
  var result_973079303 = [];

    var n_973079305 = x_p0;
    result_973079303 = nimCopy(null, mnewString(len_p1), NTI33554449);
    Label1: {
      var j_973079311 = 0;
      var colontmp__553648699 = 0;
      colontmp__553648699 = (len_p1 - 1);
      var res_553648701 = colontmp__553648699;
      Label2: {
          Label3: while (true) {
          if (!(0 <= res_553648701)) break Label3;
            j_973079311 = res_553648701;
            result_973079303[j_973079311] = [48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70][Number((n_973079305 & 15n))];
            n_973079305 = (n_973079305 >> BigInt(4));
            if (((n_973079305 == 0n) && handleNegative_p2)) {
            n_973079305 = 18446744073709551615n;
            }
            
            res_553648701 -= 1;
          }
      };
    };

  return result_973079303;

}

function toHex__pureZstrutils_u2077(x_p0, len_p1) {
  var result_973080609 = [];

    result_973080609 = nimCopy(null, toHexImpl__pureZstrutils_u771(BigInt.asUintN(64, BigInt(x_p0)), len_p1, (x_p0 < 0)), NTI33554449);

  return result_973080609;

}

function encodeUrl__pureZuri_u58(s_p0, usePlus_p1) {
    var Temporary1;

  var result_1241514045 = [];

    result_1241514045 = nimCopy(null, mnewString(0), NTI33554449);
    if (usePlus_p1) {
    Temporary1 = [43];
    }
    else {
    Temporary1 = [37,50,48];
    }
    
    var fromSpace_1241514050 = nimCopy(null, Temporary1, NTI33554449);
    Label2: {
      var c_1241514051 = 0;
      var i_553648695 = 0;
      var L_553648696 = (s_p0).length;
      Label3: {
          Label4: while (true) {
          if (!(i_553648695 < L_553648696)) break Label4;
            c_1241514051 = s_p0[i_553648695];
            switch (c_1241514051) {
            case 97:
            case 98:
            case 99:
            case 100:
            case 101:
            case 102:
            case 103:
            case 104:
            case 105:
            case 106:
            case 107:
            case 108:
            case 109:
            case 110:
            case 111:
            case 112:
            case 113:
            case 114:
            case 115:
            case 116:
            case 117:
            case 118:
            case 119:
            case 120:
            case 121:
            case 122:
            case 65:
            case 66:
            case 67:
            case 68:
            case 69:
            case 70:
            case 71:
            case 72:
            case 73:
            case 74:
            case 75:
            case 76:
            case 77:
            case 78:
            case 79:
            case 80:
            case 81:
            case 82:
            case 83:
            case 84:
            case 85:
            case 86:
            case 87:
            case 88:
            case 89:
            case 90:
            case 48:
            case 49:
            case 50:
            case 51:
            case 52:
            case 53:
            case 54:
            case 55:
            case 56:
            case 57:
            case 45:
            case 46:
            case 95:
            case 126:
              addChar(result_1241514045, c_1241514051);;
              break;
            case 32:
              result_1241514045.push.apply(result_1241514045, fromSpace_1241514050);;
              break;
            default: 
              addChar(result_1241514045, 37);;
              result_1241514045.push.apply(result_1241514045, toHex__pureZstrutils_u2077(c_1241514051, 2));;
              break;
            }
            i_553648695 += 1;
          }
      };
    };

  return result_1241514045;

}

function simpleSvgPlaceholder__svg95placeholder_u59(opts_p0) {
  var result_1224736829 = [];

  BeforeRet: {
    var safeText_1224736830 = escapeXml__utils_u4689(opts_p0.text);
    var content_1224736831 = [];
    var style_1224736832 = [];
    if (((0 < (opts_p0.darkBgColor).length) || (0 < (opts_p0.darkTextColor).length))) {
    style_1224736832 = nimCopy(null, [60,115,116,121,108,101,62,64,109,101,100,105,97,32,40,112,114,101,102,101,114,115,45,99,111,108,111,114,45,115,99,104,101,109,101,58,32,100,97,114,107,41,32,123], NTI33554449);
    if ((0 < (opts_p0.darkBgColor).length)) {
    style_1224736832.push.apply(style_1224736832, ([32,114,101,99,116,32,123,32,102,105,108,108,58,32]).concat(opts_p0.darkBgColor,[59,32,125]));;
    }
    
    if (((0 < (opts_p0.darkTextColor).length) && !(opts_p0.textWrap))) {
    style_1224736832.push.apply(style_1224736832, ([32,116,101,120,116,32,123,32,102,105,108,108,58,32]).concat(opts_p0.darkTextColor,[59,32,125]));;
    }
    
    if (((0 < (opts_p0.darkTextColor).length) && opts_p0.textWrap)) {
    style_1224736832.push.apply(style_1224736832, ([32,100,105,118,32,123,32,99,111,108,111,114,58,32]).concat(opts_p0.darkTextColor,[32,33,105,109,112,111,114,116,97,110,116,59,32,125]));;
    }
    
    style_1224736832.push.apply(style_1224736832, [32,125,60,47,115,116,121,108,101,62]);;
    }
    
    if (opts_p0.textWrap) {
    content_1224736831 = nimCopy(null, ([60,102,111,114,101,105,103,110,79,98,106,101,99,116,32,119,105,100,116,104,61,34]).concat(HEX24__systemZdollars_u14(opts_p0.width),[34,32,104,101,105,103,104,116,61,34],HEX24__systemZdollars_u14(opts_p0.height),makeNimstrLit("\"><div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"align-items: center; box-sizing: border-box; color: "),opts_p0.textColor,[59,32,100,105,115,112,108,97,121,58,32,102,108,101,120,59,32,102,111,110,116,45,102,97,109,105,108,121,58,32],opts_p0.fontFamily,[59,32,102,111,110,116,45,115,105,122,101,58,32],HEX24__systemZdollars_u14(opts_p0.fontSize),[112,120,59,32,102,111,110,116,45,119,101,105,103,104,116,58,32],opts_p0.fontWeight,[59,32,104,101,105,103,104,116,58,32,49,48,48,37,59,32,108,105,110,101,45,104,101,105,103,104,116,58,32],HEX24__system_u3196(opts_p0.lineHeight),[59,32,106,117,115,116,105,102,121,45,99,111,110,116,101,110,116,58,32,99,101,110,116,101,114,59,32,112,97,100,100,105,110,103,58,32],opts_p0.padding,[59,32,116,101,120,116,45,97,108,105,103,110,58,32,99,101,110,116,101,114,59,32,119,105,100,116,104,58,32,49,48,48,37,59,34,62],safeText_1224736830,[60,47,100,105,118,62,60,47,102,111,114,101,105,103,110,79,98,106,101,99,116,62]), NTI33554449);
    }
    else {
      content_1224736831 = nimCopy(null, ([60,116,101,120,116,32,102,105,108,108,61,34]).concat(opts_p0.textColor,[34,32,102,111,110,116,45,102,97,109,105,108,121,61,34],opts_p0.fontFamily,[34,32,102,111,110,116,45,115,105,122,101,61,34],HEX24__systemZdollars_u14(opts_p0.fontSize),[34,32,100,121,61,34],HEX24__system_u3196(opts_p0.dy),[34,32,102,111,110,116,45,119,101,105,103,104,116,61,34],opts_p0.fontWeight,[34,32,120,61,34,53,48,37,34,32,121,61,34,53,48,37,34,32,116,101,120,116,45,97,110,99,104,111,114,61,34,109,105,100,100,108,101,34,62],safeText_1224736830,[60,47,116,101,120,116,62]), NTI33554449);
    }
    
    var str_1224736839 = ([60,115,118,103,32,120,109,108,110,115,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,50,48,48,48,47,115,118,103,34,32,119,105,100,116,104,61,34]).concat(HEX24__systemZdollars_u14(opts_p0.width),[34,32,104,101,105,103,104,116,61,34],HEX24__systemZdollars_u14(opts_p0.height),[34,32,118,105,101,119,66,111,120,61,34,48,32,48,32],HEX24__systemZdollars_u14(opts_p0.width),[32],HEX24__systemZdollars_u14(opts_p0.height),[34,62],style_1224736832,[60,114,101,99,116,32,102,105,108,108,61,34],opts_p0.bgColor,[34,32,119,105,100,116,104,61,34],HEX24__systemZdollars_u14(opts_p0.width),[34,32,104,101,105,103,104,116,61,34],HEX24__systemZdollars_u14(opts_p0.height),[34,47,62],content_1224736831,[60,47,115,118,103,62]);
    str_1224736839 = nimCopy(null, cstrToNimstr(toJSStr(str_1224736839).replace(new RegExp("[\\t\\n\\r]", "g"), "")), NTI33554449);
    str_1224736839 = nimCopy(null, cstrToNimstr(toJSStr(str_1224736839).replace(new RegExp("\\s\\s+", "g"), " ")), NTI33554449);
    if (opts_p0.dataUri) {
    var encoded_1224736840 = encodeUrl__pureZuri_u58(str_1224736839, false);
    encoded_1224736840 = nimCopy(null, nsuReplaceStr(encoded_1224736840, [40], [37,50,56]), NTI33554449);
    encoded_1224736840 = nimCopy(null, nsuReplaceStr(encoded_1224736840, [41], [37,50,57]), NTI33554449);
    result_1224736829 = nimCopy(null, ([100,97,116,97,58,105,109,97,103,101,47,115,118,103,43,120,109,108,59,99,104,97,114,115,101,116,61]).concat(opts_p0.charset,[44],encoded_1224736840), NTI33554449);
    break BeforeRet;
    }
    
    result_1224736829 = nimCopy(null, str_1224736839, NTI33554449);
    break BeforeRet;
  };

  return result_1224736829;

}
async function handleEvent__main_u73(request_p0) {
    var Temporary1;

  var result_553648205 = null;

  BeforeRet: {
    var url_553648215 = new URL(request_p0.url);
    url_553648215.searchParams.sort();
    var isImageHost_553648216 = (url_553648215.host == "images.placeholders.dev");
    var isApiPath_553648217 = nsuStartsWith(cstrToNimstr(url_553648215.pathname), [47,97,112,105]);
    if ((isImageHost_553648216 || isApiPath_553648217)) {
    var opts_553648218 = defaultOptions__svg95placeholder_u23(300, 150);
    opts_553648218.dataUri = false;
    var basePath_553648219 = nsuReplaceStr(cstrToNimstr(url_553648215.pathname), [47,97,112,105], []);
    if (!(eqStrings(basePath_553648219, [47]))) {
    var size_553648220 = nsuReplaceStr(basePath_553648219, [47], []);
    var parts_553648221 = nsuSplitString(size_553648220, [120], (-1));
    var w_553648222 = sanitizeNumber__sanitizers_u5(parts_553648221[0]);
    if ((1 < (parts_553648221).length)) {
    Temporary1 = sanitizeNumber__sanitizers_u5(parts_553648221[1]);
    }
    else {
    Temporary1 = none__sanitizers_u14();
    }
    
    var h_553648236 = nimCopy(null, Temporary1, NTI1191182345);
    if ((isSome__main_u113(w_553648222) && isSome__main_u113(h_553648236))) {
    opts_553648218.width = Number(BigInt(Math.trunc(get__main_u137(w_553648222))));
    opts_553648218.height = Number(BigInt(Math.trunc(get__main_u137(h_553648236))));
    }
    else {
    if (isSome__main_u113(w_553648222)) {
    opts_553648218.width = Number(BigInt(Math.trunc(get__main_u137(w_553648222))));
    opts_553648218.height = Number(BigInt(Math.trunc(get__main_u137(w_553648222))));
    }
    }
    }
    
    var sp_553648383 = url_553648215.searchParams;
    var widthParam_553648384 = sp_553648383.get("width");
    if (!((widthParam_553648384 == null))) {
    var v_553648385 = sanitizeNumber__sanitizers_u5(cstrToNimstr(widthParam_553648384));
    if (isSome__main_u113(v_553648385)) {
    opts_553648218.width = Number(BigInt(Math.trunc(get__main_u137(v_553648385))));
    }
    
    }
    
    var heightParam_553648408 = sp_553648383.get("height");
    if (!((heightParam_553648408 == null))) {
    var v_553648409 = sanitizeNumber__sanitizers_u5(cstrToNimstr(heightParam_553648408));
    if (isSome__main_u113(v_553648409)) {
    opts_553648218.height = Number(BigInt(Math.trunc(get__main_u137(v_553648409))));
    }
    
    }
    
    var textParam_553648432 = sp_553648383.get("text");
    if (!((textParam_553648432 == null))) {
    opts_553648218.text = nimCopy(null, sanitizeString__sanitizers_u74(cstrToNimstr(textParam_553648432)), NTI33554449);
    }
    
    var fontFamilyParam_553648433 = sp_553648383.get("fontFamily");
    if (!((fontFamilyParam_553648433 == null))) {
    opts_553648218.fontFamily = nimCopy(null, sanitizeStringForCss__sanitizers_u223(cstrToNimstr(fontFamilyParam_553648433)), NTI33554449);
    }
    
    var bgColorParam_553648434 = sp_553648383.get("bgColor");
    if (!((bgColorParam_553648434 == null))) {
    var v_553648435 = sanitizeColor__sanitizers_u78(cstrToNimstr(bgColorParam_553648434));
    if (isSome__main_u312(v_553648435)) {
    opts_553648218.bgColor = nimCopy(null, get__main_u329(v_553648435), NTI33554449);
    }
    
    }
    
    var textColorParam_553648471 = sp_553648383.get("textColor");
    if (!((textColorParam_553648471 == null))) {
    var v_553648472 = sanitizeColor__sanitizers_u78(cstrToNimstr(textColorParam_553648471));
    if (isSome__main_u312(v_553648472)) {
    opts_553648218.textColor = nimCopy(null, get__main_u329(v_553648472), NTI33554449);
    }
    
    }
    
    var svg_553648495 = simpleSvgPlaceholder__svg95placeholder_u59(opts_553648218);
    var headers_553648496 = {};
    headers_553648496["content-type"] = ("image/svg+xml; charset=utf-8");
    headers_553648496["access-control-allow-origin"] = ("*");
    headers_553648496["Cache-Control"] = (toJSStr(imageCacheHeader_1140852390));
    var init_553648521 = {};
    init_553648521["headers"] = headers_553648496;
    result_553648205 = new Response(toJSStr(svg_553648495), init_553648521);
    break BeforeRet;
    }
    
    var init404_553648530 = {};
    init404_553648530["status"] = (404);
    result_553648205 = new Response("Not Found", init404_553648530);
    break BeforeRet;
  };

  return result_553648205;

}

function getCurrentExceptionMsg__system_u2057() {
  var result_33556490 = [];

  BeforeRet: {
    if (!((lastJSError == null))) {
    if (isNimException__system_u2037()) {
    result_33556490 = nimCopy(null, lastJSError.message, NTI33554449);
    break BeforeRet;
    }
    else {
      var msg_33556495 = null;
            if (lastJSError.message !== undefined) {
        msg_33556495 = lastJSError.message;
      }
      
      if (!((msg_33556495 == null))) {
      result_33556490 = nimCopy(null, cstrToNimstr(msg_33556495), NTI33554449);
      break BeforeRet;
      }
      
    }
    
    }
    
    result_33556490 = nimCopy(null, [], NTI33554449);
    break BeforeRet;
  };

  return result_33556490;

}
async function fetch(request_p0, env_p1) {
  var result_553648597 = null;

  BeforeRet: {
++excHandler;
    try {
    result_553648597 = (await handleEvent__main_u73(request_p0));
    break BeforeRet;
--excHandler;
} catch (EXCEPTION) {
 var prevJSError = lastJSError;
 lastJSError = EXCEPTION;
 --excHandler;
    raiseDefect();
    console.error(toJSStr(getCurrentExceptionMsg__system_u2057()));
    var init_553648614 = {};
    init_553648614["status"] = (500);
    result_553648597 = new Response("Internal Error", init_553648614);
    break BeforeRet;
    lastJSError = prevJSError;
    } finally {
    }
  };

  return result_553648597;

}
